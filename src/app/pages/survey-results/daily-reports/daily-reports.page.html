<ion-content no-padding>
  <div class="wrapper">
    <div class="header">
      <div class="top">
          {{ surveyinfo?.surveyname }}
        <!-- <img
          src="/assets/images/back.svg"
          width="24px"
          height="24px"
          (click)="goDashboard()"
        /> -->
      </div>
      <div class="bottom">
        
      </div>
          
    </div>

    <!-- <div class="top-info-survey-results">
      <div class="row1">
        {{ surveyinfo?.surveyname }}
      </div>
    </div> -->

    <div class="card">
      <div class="responses">
        <div *ngFor="let listitem of responseArr">
          <!-- DATE - {{ listitem.whatdate }} TOTAL - {{ listitem.totres }}
         WW -  {{ listitem.totres }} -->
          <div *ngIf="listitem.totres === 0" class="test">
            THERE IS NO SURVEY FOR TODAY !!!1
          </div> 

          <div
            *ngFor="let item of listitem.reslist; let i = index"
            class="top-box"
          >
            <div class="survey-questions">
              {{ i + 1 }}. {{ item.questions }}
            </div>

            <div
              *ngFor="let item1 of item.responsesummary | keyvalue"
              class="survey-responses"
            >
              <!-- <div class="poll-result" (click)="showDetailReport(item1, listitem, item.questionid)" > -->
                <!-- {{ item1.key }} ({{ item1.value / listitem.totres | percent }},
                {{ item1.value }} votes) -->
              <!-- </div> -->
              <div class="poll-bg">
                <div class="pollbar"
                      [ngStyle]="{ width: getWidth(item1, listitem.totres) }">{{ item1.key }}
                </div>
          
            </div>
            <div class="stats"> 
                <div class="top">
                    {{ item1.value }}
                </div>
                <div class="bottom">
                    ({{ item1.value / listitem.totres | percent }})
                </div>  
                
              
              </div>
            </div>
          </div>
        </div>

        <ion-infinite-scroll
          (ionInfinite)="loadData($event)"
          loadingSpinner="bubbles"
          loadingText="Loading Users..."
          threshold="200px"
        >
          <ion-infinite-scroll-content></ion-infinite-scroll-content>
        </ion-infinite-scroll>
      </div>
    </div>
  </div>
</ion-content>
