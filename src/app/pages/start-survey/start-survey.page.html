<ion-content class="wrapper" >

  <ion-header>
  <div class="toolbar">
      <div>
          <img (click)="goDashboard()" src="/assets/images/back.svg" width="20px" height="20px">
       </div>

    <div>
           {{companyname}} 
      </div>


      <div class="view"><img *ngIf="surveyon" src="/assets/images/view.svg" width="20px" height="20px"></div>
      <div class="checked"><img *ngIf="surveyon" src="/assets/images/checked.svg" width="20px" height="20px"></div>

    </div>
</ion-header>

  <div class="top">
    Create Survey
  </div>
  <div class="main">
   
    <div>
      <form [formGroup]="submitForm" >

          <ion-item >
              <ion-label position="stacked" class="label-style"> Survey name</ion-label>
              <ion-input formControlName="surveyname" clearInput placeholder="Give your survey a title"></ion-input>
            </ion-item>
              <div [ngClass]="{'has-error' : (submitForm.get('surveyname').hasError('required') || submitForm.get('surveyname').hasError('pattern')) && submitForm.get('surveyname').touched}"
      *ngIf="(submitForm.get('surveyname').hasError('required') || submitForm.get('surveyname').hasError('pattern')) && submitForm.get('surveyname').touched">
      Enter survey name.
      </div>


        <ion-item>
            <ion-label position="stacked" class="label-style"> Survey venue</ion-label>
          <ion-input formControlName="surveyvenue" clearInput placeholder="Enter survey venue" ></ion-input>
          
      </ion-item>
      <div [ngClass]="{'has-error' : (submitForm.get('surveyvenue').hasError('required') || submitForm.get('surveyvenue').hasError('pattern')) && submitForm.get('surveyvenue').touched}"
      *ngIf="(submitForm.get('surveyvenue').hasError('required') || submitForm.get('surveyvenue').hasError('pattern')) && submitForm.get('surveyvenue').touched">
      Enter venue details.
      </div>

            <ion-item>
                <ion-label  class="label-style">Date & Time</ion-label>
                <ion-datetime displayFormat="D MMM YYYY h:mm A" minuteValues="0,15,30,45" placeholder="Select"
                formControlName="surveydate" ></ion-datetime>
                
              </ion-item>
  
  
        <div [ngClass]="{'has-error' : (submitForm.get('surveydate').hasError('required') || submitForm.get('surveydate').hasError('pattern')) && submitForm.get('surveydate').touched}"
        *ngIf="(submitForm.get('surveydate').hasError('required') || submitForm.get('surveydate').hasError('pattern')) && submitForm.get('surveydate').touched">
        Enter survey date.
        </div>


        <ion-item>
            <ion-label class="label-style"> Language</ion-label>
          
           
                <ion-select placeholder="Select" formControlName="language"  (ionChange)="selectLanguage()">
                    <ion-select-option value="{{item.code}}"  
                    *ngFor="let item of languages; " [value]="item.code">
                      {{ item.text }}
                    </ion-select-option>
                  </ion-select>
  
            
      
          </ion-item>
          <div [ngClass]="{'has-error' : (submitForm.get('language').hasError('required') || submitForm.get('language').hasError('pattern')) && submitForm.get('language').touched}"
          *ngIf="(submitForm.get('language').hasError('required') || submitForm.get('language').hasError('pattern')) && submitForm.get('language').touched">
          Choose survey language.
          </div> 

          <ion-item detail (click)="chooseIndustry()">
              <ion-label class="label-style">
                Choose Industry&nbsp;&nbsp;&nbsp;&nbsp;
              </ion-label>
              
              <ion-input formControlName="industry" ></ion-input>
            </ion-item>
            
            <div [ngClass]="{'has-error' : (submitForm.get('industry').hasError('required') || submitForm.get('industry').hasError('pattern')) && submitForm.get('industry').touched}"
            *ngIf="(submitForm.get('industry').hasError('required') || submitForm.get('industry').hasError('pattern')) && submitForm.get('industry').touched">
            Choose survey Industry.
            </div>
            
            <ion-item>
              <ion-label class="label-style">
                Collect Contact
              </ion-label>
              <ion-toggle color="primary" mode="ios"
            (ionChange)="onClick($event)"></ion-toggle> 
            </ion-item>


      </form>

    </div>

<div>


  <ion-row center *ngIf="!surveyon">
      <ion-col text-center>
     
        <ion-button (click)="registerSurvey()"  expand="block"
        type="button" name="action" class="primary-color">
            <ion-ripple-effect></ion-ripple-effect>
          Create Survey</ion-button>
      </ion-col>
    </ion-row>
</div>
<br>
    <ng-container *ngIf="surveyon">
        <div class="mid">Questions - Answers</div>
        <div  class="label-1">Add your first question and possible answer choices</div>
        <div class="add-question">
            <img *ngIf="!addquestions" src="/assets/images/plus.svg" (click)="addQuestions()" 
            width="72px" height="72px">

        </div>
    </ng-container>
    
  </div>
  <div class="bottom">
    &nbsp;
  </div>

  
</ion-content>